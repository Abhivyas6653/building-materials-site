{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Madhav\\\\Downloads\\\\project\\\\building-materials-frontend\\\\my-react-app\\\\src\\\\components\\\\AddMaterial.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport API from \"../api/api\";\nimport { getToken } from \"../utils/auth\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddMaterial() {\n  _s();\n  const [form, setForm] = useState({\n    name: \"\",\n    price: \"\",\n    image: null\n  });\n  const navigate = useNavigate();\n\n  // üîê Check if user is logged in\n  if (!getToken()) {\n    const formStyle = {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      gap: \"10px\",\n      padding: \"30px\",\n      border: \"1px solid #ccc\",\n      borderRadius: \"10px\",\n      width: \"300px\",\n      margin: \"auto\"\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"80vh\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: \"#ffe0e0\",\n          padding: \"30px\",\n          borderRadius: \"10px\",\n          boxShadow: \"0 4px 12px rgba(0,0,0,0.1)\",\n          color: \"#b30000\",\n          fontSize: \"1.2rem\",\n          fontWeight: \"bold\"\n        },\n        children: \"\\uD83D\\uDEAB Please log in to access this page.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this);\n  }\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", form.name);\n    formData.append(\"price\", form.price);\n    formData.append(\"image\", form.image);\n    try {\n      await API.post(\"/materials\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      alert(\"‚úÖ Material added successfully!\");\n      setForm({\n        name: \"\",\n        price: \"\",\n        image: null\n      });\n      navigate(\"/materials\");\n    } catch (error) {\n      console.error(\"Error adding material:\", error);\n      alert(\"‚ùå Failed to add material.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: \"80vh\",\n      flexDirection: \"column\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      style: formStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Add Material\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Material Name\",\n        value: form.name,\n        onChange: e => setForm({\n          ...form,\n          name: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Price\",\n        value: form.price,\n        onChange: e => setForm({\n          ...form,\n          price: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: e => setForm({\n          ...form,\n          image: e.target.files[0]\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n_s(AddMaterial, \"ey9hyvvdMKXr6eKxyloxyndqKOI=\", false, function () {\n  return [useNavigate];\n});\n_c = AddMaterial;\nexport default AddMaterial;\nvar _c;\n$RefreshReg$(_c, \"AddMaterial\");","map":{"version":3,"names":["React","useState","API","getToken","useNavigate","jsxDEV","_jsxDEV","AddMaterial","_s","form","setForm","name","price","image","navigate","formStyle","display","flexDirection","alignItems","gap","padding","border","borderRadius","width","margin","style","justifyContent","height","children","backgroundColor","boxShadow","color","fontSize","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","handleSubmit","e","preventDefault","formData","FormData","append","post","headers","alert","error","console","onSubmit","type","placeholder","value","onChange","target","accept","files","_c","$RefreshReg$"],"sources":["C:/Users/Madhav/Downloads/project/building-materials-frontend/my-react-app/src/components/AddMaterial.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport API from \"../api/api\";\r\nimport { getToken } from \"../utils/auth\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction AddMaterial() {\r\n  const [form, setForm] = useState({ name: \"\", price: \"\" ,image:null });\r\n  const navigate = useNavigate();\r\n\r\n  // üîê Check if user is logged in\r\n  if (!getToken()) {\r\n    const formStyle = {\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  gap: \"10px\",\r\n  padding: \"30px\",\r\n  border: \"1px solid #ccc\",\r\n  borderRadius: \"10px\",\r\n  width: \"300px\",\r\n  margin: \"auto\"\r\n};\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          height: \"80vh\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            backgroundColor: \"#ffe0e0\",\r\n            padding: \"30px\",\r\n            borderRadius: \"10px\",\r\n            boxShadow: \"0 4px 12px rgba(0,0,0,0.1)\",\r\n            color: \"#b30000\",\r\n            fontSize: \"1.2rem\",\r\n            fontWeight: \"bold\",\r\n          }}\r\n        >\r\n          üö´ Please log in to access this page.\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n\r\n  const formData = new FormData();\r\n  formData.append(\"name\", form.name);\r\n  formData.append(\"price\", form.price);\r\n  formData.append(\"image\", form.image);\r\n\r\n  try {\r\n    await API.post(\"/materials\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      }\r\n    });\r\n    alert(\"‚úÖ Material added successfully!\");\r\n    setForm({ name: \"\", price: \"\", image: null });\r\n    navigate(\"/materials\");\r\n  } catch (error) {\r\n    console.error(\"Error adding material:\", error);\r\n    alert(\"‚ùå Failed to add material.\");\r\n  }\r\n};\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"80vh\",\r\n        flexDirection: \"column\",\r\n      }}\r\n    >\r\n     <form onSubmit={handleSubmit} style={formStyle}>\r\n  <h2>Add Material</h2>\r\n\r\n  <input\r\n    type=\"text\"\r\n    placeholder=\"Material Name\"\r\n    value={form.name}\r\n    onChange={(e) => setForm({ ...form, name: e.target.value })}\r\n  />\r\n  \r\n  <input\r\n    type=\"text\"\r\n    placeholder=\"Price\"\r\n    value={form.price}\r\n    onChange={(e) => setForm({ ...form, price: e.target.value })}\r\n  />\r\n\r\n  <input\r\n    type=\"file\"\r\n    accept=\"image/*\"\r\n    onChange={(e) => setForm({ ...form, image: e.target.files[0] })}\r\n  />\r\n\r\n  <button type=\"submit\">Add</button>\r\n</form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddMaterial;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,GAAG,MAAM,YAAY;AAC5B,SAASC,QAAQ,QAAQ,eAAe;AACxC,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACrB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC;IAAEU,IAAI,EAAE,EAAE;IAAEC,KAAK,EAAE,EAAE;IAAEC,KAAK,EAAC;EAAK,CAAC,CAAC;EACrE,MAAMC,QAAQ,GAAGV,WAAW,CAAC,CAAC;;EAE9B;EACA,IAAI,CAACD,QAAQ,CAAC,CAAC,EAAE;IACf,MAAMY,SAAS,GAAG;MACpBC,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBC,UAAU,EAAE,QAAQ;MACpBC,GAAG,EAAE,MAAM;MACXC,OAAO,EAAE,MAAM;MACfC,MAAM,EAAE,gBAAgB;MACxBC,YAAY,EAAE,MAAM;MACpBC,KAAK,EAAE,OAAO;MACdC,MAAM,EAAE;IACV,CAAC;IACG,oBACElB,OAAA;MACEmB,KAAK,EAAE;QACLT,OAAO,EAAE,MAAM;QACfU,cAAc,EAAE,QAAQ;QACxBR,UAAU,EAAE,QAAQ;QACpBS,MAAM,EAAE;MACV,CAAE;MAAAC,QAAA,eAEFtB,OAAA;QACEmB,KAAK,EAAE;UACLI,eAAe,EAAE,SAAS;UAC1BT,OAAO,EAAE,MAAM;UACfE,YAAY,EAAE,MAAM;UACpBQ,SAAS,EAAE,4BAA4B;UACvCC,KAAK,EAAE,SAAS;UAChBC,QAAQ,EAAE,QAAQ;UAClBC,UAAU,EAAE;QACd,CAAE;QAAAL,QAAA,EACH;MAED;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,MAAMC,YAAY,GAAG,MAAOC,CAAC,IAAK;IAClCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAElC,IAAI,CAACE,IAAI,CAAC;IAClC8B,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAElC,IAAI,CAACG,KAAK,CAAC;IACpC6B,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAElC,IAAI,CAACI,KAAK,CAAC;IAEpC,IAAI;MACF,MAAMX,GAAG,CAAC0C,IAAI,CAAC,YAAY,EAAEH,QAAQ,EAAE;QACrCI,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;MACFC,KAAK,CAAC,gCAAgC,CAAC;MACvCpC,OAAO,CAAC;QAAEC,IAAI,EAAE,EAAE;QAAEC,KAAK,EAAE,EAAE;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC;MAC7CC,QAAQ,CAAC,YAAY,CAAC;IACxB,CAAC,CAAC,OAAOiC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9CD,KAAK,CAAC,2BAA2B,CAAC;IACpC;EACF,CAAC;EACC,oBACExC,OAAA;IACEmB,KAAK,EAAE;MACLT,OAAO,EAAE,MAAM;MACfU,cAAc,EAAE,QAAQ;MACxBR,UAAU,EAAE,QAAQ;MACpBS,MAAM,EAAE,MAAM;MACdV,aAAa,EAAE;IACjB,CAAE;IAAAW,QAAA,eAEHtB,OAAA;MAAM2C,QAAQ,EAAEX,YAAa;MAACb,KAAK,EAAEV,SAAU;MAAAa,QAAA,gBAClDtB,OAAA;QAAAsB,QAAA,EAAI;MAAY;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAErB/B,OAAA;QACE4C,IAAI,EAAC,MAAM;QACXC,WAAW,EAAC,eAAe;QAC3BC,KAAK,EAAE3C,IAAI,CAACE,IAAK;QACjB0C,QAAQ,EAAGd,CAAC,IAAK7B,OAAO,CAAC;UAAE,GAAGD,IAAI;UAAEE,IAAI,EAAE4B,CAAC,CAACe,MAAM,CAACF;QAAM,CAAC;MAAE;QAAAlB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7D,CAAC,eAEF/B,OAAA;QACE4C,IAAI,EAAC,MAAM;QACXC,WAAW,EAAC,OAAO;QACnBC,KAAK,EAAE3C,IAAI,CAACG,KAAM;QAClByC,QAAQ,EAAGd,CAAC,IAAK7B,OAAO,CAAC;UAAE,GAAGD,IAAI;UAAEG,KAAK,EAAE2B,CAAC,CAACe,MAAM,CAACF;QAAM,CAAC;MAAE;QAAAlB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9D,CAAC,eAEF/B,OAAA;QACE4C,IAAI,EAAC,MAAM;QACXK,MAAM,EAAC,SAAS;QAChBF,QAAQ,EAAGd,CAAC,IAAK7B,OAAO,CAAC;UAAE,GAAGD,IAAI;UAAEI,KAAK,EAAE0B,CAAC,CAACe,MAAM,CAACE,KAAK,CAAC,CAAC;QAAE,CAAC;MAAE;QAAAtB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjE,CAAC,eAEF/B,OAAA;QAAQ4C,IAAI,EAAC,QAAQ;QAAAtB,QAAA,EAAC;MAAG;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9B;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAAC7B,EAAA,CAtGQD,WAAW;EAAA,QAEDH,WAAW;AAAA;AAAAqD,EAAA,GAFrBlD,WAAW;AAwGpB,eAAeA,WAAW;AAAC,IAAAkD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}